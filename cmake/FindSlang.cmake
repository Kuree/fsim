set(SLANG_DIST_PATH "${CMAKE_CURRENT_SOURCE_DIR}/extern/slang-dist")
set(SLANG_BUILD_DIST_PATH "${CMAKE_BINARY_DIR}/slang-dist")
set(SLANG_LIB_PATH ${SLANG_DIST_PATH}/lib)
set(SLANG_BUILD_LIB_PATH ${SLANG_BUILD_DIST_PATH}/lib)
set(SLANG_INCLUDE_PATH "${SLANG_DIST_PATH}/include")
set(SLANG_BUILD_INCLUDE_PATH "${SLANG_BUILD_DIST_PATH}/include")
find_library(LIBSLANG_LIBRARY NAMES slangcompiler HINTS ${SLANG_LIB_PATH} ${SLANG_BUILD_LIB_PATH})
find_library(LIBSLANG_CORE_LIBRARY NAMES slangcore HINTS ${SLANG_LIB_PATH} ${SLANG_BUILD_LIB_PATH})
find_library(LIBSLANG_PARSER_LIBRARY NAMES slangparser HINTS ${SLANG_LIB_PATH} ${SLANG_BUILD_LIB_PATH})
find_path(SLANG_INCLUDE_DIR "slang/compilation/Compilation.h" HINTS ${SLANG_INCLUDE_PATH} ${SLANG_BUILD_INCLUDE_PATH})

include(FindPackageHandleStandardArgs)
find_package_handle_standard_Args(Slang DEFAULT_MSG LIBSLANG_LIBRARY)

mark_as_advanced(LIBSLANG_LIBRARY SLANG_INCLUDE_DIR)
if (LIBSLANG_LIBRARY)
    add_library(slangcompiler INTERFACE IMPORTED)
    set_property(TARGET slangcompiler PROPERTY INTERFACE_LINK_LIBRARIES ${LIBSLANG_PARSER_LIBRARY} ${LIBSLANG_LIBRARY} ${LIBSLANG_CORE_LIBRARY} )
    set_property(TARGET slangcompiler PROPERTY INTERFACE_INCLUDE_DIRECTORIES ${SLANG_INCLUDE_DIR})
endif()
